(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{22:function(e,a,t){e.exports={Button:"Button_Button__1Kz8b"}},23:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__32TsP"}},25:function(e,a,t){e.exports={Preloader:"Preloader_Preloader__1Hlrn"}},26:function(e,a,t){e.exports=t(72)},3:function(e,a,t){e.exports={Searchbar:"SearchBar_Searchbar__22rFB",SearchForm:"SearchBar_SearchForm__1B6Ij",SearchFormButton:"SearchBar_SearchFormButton__3SjXl",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__1Hu6D",SearchFormInput:"SearchBar_SearchFormInput__3IvJ2"}},31:function(e,a,t){},49:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(20),l=t.n(o),c=(t(31),t(10)),i=t(4),m=t(5),s=t(7),u=t(6),g=t(21),h=t.n(g),d=function(e,a){return h.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(a,"&key=").concat("3616495-8ef67a89dfdb2c2d531583fa2","&image_type=photo&orientation=horizontal&per_page=15")).then((function(e){return e.data}))},p=(t(49),t(22)),f=t.n(p),S=function(e){var a=e.text,t=e.clickHandler;return n.a.createElement("button",{onClick:t,className:f.a.Button},a)},I=t(23),b=t.n(I),y=t(8),_=t.n(y),v=function(e){var a=e.imageSrc,t=e.alt,r=e.bigImgUrl,o=e.onSetBigImageUrl;return n.a.createElement("li",{className:_.a.ImageGalleryItem,onClick:function(){return o(r)}},n.a.createElement("img",{src:a,alt:t,className:_.a.ImageGalleryItemImage}))},E=function(e){var a=e.images,t=e.onSetBigImageUrl,r=a.map((function(e){return n.a.createElement(v,{key:e.id,imageSrc:e.webformatURL,alt:e.tags,bigImgUrl:e.largeImageURL,onSetBigImageUrl:t})}));return n.a.createElement("ul",{className:b.a.ImageGallery},r)},B=t(3),w=t.n(B),N=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={inputValue:""},e.handleChange=function(a){e.setState({inputValue:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("header",{className:w.a.Searchbar},n.a.createElement("form",{className:w.a.SearchForm,onSubmit:this.handleSubmit},n.a.createElement("button",{type:"submit",className:w.a.SearchFormButton},n.a.createElement("span",{className:w.a.SearchFormButtonLabel},"Search")),n.a.createElement("input",{onChange:this.handleChange,className:w.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.inputValue})))}}]),t}(r.Component),F=t(24),U=t.n(F),k=(t(71),t(25)),M=t.n(k),x=function(){return n.a.createElement("div",{className:M.a.Preloader},n.a.createElement(U.a,{type:"Puff",color:"#00BFFF",height:100,width:100}))},O=t(9),j=t.n(O),G=function(e){var a=e.onCloseModal,t=e.children;return n.a.createElement("div",{className:j.a.Overlay,onClick:a},n.a.createElement("div",{className:j.a.Modal},t))},C=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={images:[],searchQuery:"",pageNumber:1,error:"",loading:!1,largeImgUrl:null},e.fetchImages=function(){var a=e.state,t=a.searchQuery,r=a.pageNumber;e.setState({loading:!0}),d(t,r).then((function(a){e.setState((function(e){return{images:[].concat(Object(c.a)(e.images),Object(c.a)(a.hits)),pageNumber:e.pageNumber+1}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({loading:!1})}))},e.handleSearchFormSubmit=function(a){e.setState({searchQuery:a,pageNumber:1,images:[]})},e.setBigImageUrl=function(a){e.setState({largeImgUrl:a})},e.smoothScroll=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.closeModal=function(a){("Escape"===a.code||a.target.src!==e.state.largeImgUrl)&&e.setState({largeImgUrl:null})},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,a){var t=a.searchQuery,r=this.state.searchQuery,n=a.pageNumber,o=this.state.pageNumber,l=a.largeImgUrl,c=this.state.largeImgUrl;t!==r&&this.fetchImages(),n!==o&&this.smoothScroll(),c&&window.addEventListener("keydown",this.closeModal),l&&window.removeEventListener("keydown",this.closeModal)}},{key:"render",value:function(){var e=this.state,a=e.images,t=e.loading,r=e.largeImgUrl;return n.a.createElement("div",{className:"App"},n.a.createElement(N,{onSubmit:this.handleSearchFormSubmit}),n.a.createElement(E,{onSetBigImageUrl:this.setBigImageUrl,images:a}),t&&n.a.createElement(x,null),a.length>0&&!t&&n.a.createElement(S,{text:"Load more",clickHandler:this.fetchImages}),r&&n.a.createElement(G,{onCloseModal:this.closeModal},n.a.createElement("img",{src:r,alt:"modalImg"})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3dPMd",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__Rxqne"}},9:function(e,a,t){e.exports={Overlay:"Modal_Overlay__3RxN4",Modal:"Modal_Modal__1UBle"}}},[[26,1,2]]]);
//# sourceMappingURL=main.2a04fb97.chunk.js.map